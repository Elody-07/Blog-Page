!function(t,i,n){"use strict";var s=i.Modernizr;t.Windy=function(i,n){this.$el=t(n),this._init(i)},t.Windy.defaults={nextEl:"",prevEl:"",boundaries:{rotateX:{min:40,max:90},rotateY:{min:-15,max:15},rotateZ:{min:-10,max:10},translateX:{min:-200,max:200},translateY:{min:-400,max:-200},translateZ:{min:250,max:550}}},t.Windy.prototype={_init:function(i){this.options=t.extend(!0,{},t.Windy.defaults,i),this.transEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},this.transEndEventName=this.transEndEventNames[s.prefixed("transition")],this.$items=this.$el.children("li"),this.itemsCount=this.$items.length,this.resetTransformStr="translateX( 0px ) translateY( 0px ) translateZ( 0px ) rotateX( 0deg ) rotateY( 0deg ) rotateZ( 0deg )",this.supportTransitions=s.csstransitions,this.support3d=s.csstransforms3d,this.current=0,this.$items.eq(this.current).show(),this._initEvents()},_getRandTransform:function(){return{rx:Math.floor(Math.random()*(this.options.boundaries.rotateX.max-this.options.boundaries.rotateX.min+1)+this.options.boundaries.rotateX.min),ry:Math.floor(Math.random()*(this.options.boundaries.rotateY.max-this.options.boundaries.rotateY.min+1)+this.options.boundaries.rotateY.min),rz:Math.floor(Math.random()*(this.options.boundaries.rotateZ.max-this.options.boundaries.rotateZ.min+1)+this.options.boundaries.rotateZ.min),tx:Math.floor(Math.random()*(this.options.boundaries.translateX.max-this.options.boundaries.translateX.min+1)+this.options.boundaries.translateX.min),ty:Math.floor(Math.random()*(this.options.boundaries.translateY.max-this.options.boundaries.translateY.min+1)+this.options.boundaries.translateY.min),tz:Math.floor(Math.random()*(this.options.boundaries.translateZ.max-this.options.boundaries.translateZ.min+1)+this.options.boundaries.translateZ.min)}},_initEvents:function(){var i=this;this.$items.on(this.transEndEventName,function(n){i._onTransEnd(t(this))}),""!==this.options.nextEl&&t(this.options.nextEl).on("click.windy",function(){return i.next(),!1}),""!==this.options.prevEl&&t(this.options.prevEl).on("click.windy",function(){return i.prev(),!1})},_onTransEnd:function(t){if(t.removeClass("wi-move"),"right"===t.data("dir")){var i={zIndex:1,opacity:1};this.support3d?i.transform=this.resetTransformStr:this.supportTransitions&&(i.left=0,i.top=0),t.hide().css(i)}},navigate:function(t){var i=this,n=this.$items.eq(this.current),s=this.$items.eq(t),o=this._getRandTransform(),r={zIndex:this.itemsCount+1-t,opacity:0},a={opacity:1};this.support3d?(a.transform=i.resetTransformStr,r.transform="translateX("+o.tx+"px) translateY("+o.ty+"px) translateZ("+o.tz+"px) rotateX("+o.rx+"deg) rotateY("+o.ry+"deg) rotateZ("+o.rz+"deg)"):this.supportTransitions&&(a.left=0,a.top=0,r.left=o.tx,r.top=o.ty),t>this.current?("left"===this.dir&&this.$items.not(n).css("z-index",1).hide(),this.dir="right",n.addClass("wi-move").data("dir","right").css(r),s.hasClass("wi-move")&&s.removeClass("wi-move"),s.css(a).show(),this.supportTransitions||this._onTransEnd(n)):t<this.current&&(this.dir="left",s.data("dir","left").css(r).show(),setTimeout(function(){s.addClass("wi-move").data("dir","left").css(a),i.supportTransitions||i._onTransEnd(s)},20)),this.current=t},getItemsCount:function(){return this.itemsCount},next:function(){if(this.current<this.itemsCount-1){var t=this.current+1;this.navigate(t)}},prev:function(){if(this.current>0){var t=this.current-1;this.navigate(t)}}};var o=function(t){i.console&&i.console.error(t)};t.fn.windy=function(i){var n=t.data(this,"windy");if("string"==typeof i){var s=Array.prototype.slice.call(arguments,1);this.each(function(){return n?t.isFunction(n[i])&&"_"!==i.charAt(0)?void n[i].apply(n,s):void o("no such method '"+i+"' for windy instance"):void o("cannot call methods on windy prior to initialization; attempted to call method '"+i+"'")})}else this.each(function(){n?n._init():n=t.data(this,"windy",new t.Windy(i,this))});return n}}(jQuery,window);